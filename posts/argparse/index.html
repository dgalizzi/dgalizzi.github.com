<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://dgalizzi.github.io/favicon.ico><link rel=stylesheet href=/css/style.min.css><title>Fish shell argparse examples</title></head><body><header id=banner><h3><a href=https://dgalizzi.github.io/>/home/dgalizzi</a></h3></header><main id=content><article><header id=post-header><h1>Fish shell argparse examples</h1><div><time>May 23, 2021</time></div></header><h1 id=fish-shell-argparse-examples>Fish shell argparse examples</h1><p>While the <a href=https://fishshell.com/docs/current/cmds/argparse.html>documentation</a> is pretty good, it doesn&rsquo;t have many examples.</p><p>So I wrote some basic examples for reference.</p><h3 id=shortlong-flag>Short/Long flag</h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fish data-lang=fish><span style=color:#998;font-style:italic>#!/usr/bin/env fish
</span><span style=color:#998;font-style:italic></span>
argparse <span style=color:#b84>&#39;v/version&#39;</span> -- <span style=color:teal>$argv</span>

<span style=font-weight:700>if</span> <span style=font-weight:700>set</span> -q _flag_version
  <span style=font-weight:700>echo</span> <span style=color:#b84>&#39;version 1.0.0&#39;</span>
<span style=font-weight:700>else</span>
  <span style=font-weight:700>echo</span> <span style=color:#b84>&#39;no version flag passed&#39;</span>
<span style=font-weight:700>end</span>
</code></pre></div><p>Result:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ ./argtest.fish -v
version 1.0.0
$ ./argtest.fish --version
version 1.0.0
$ ./argtest.fish
no version flag passed
</code></pre></div><h3 id=shortlong-parameter>Short/Long parameter</h3><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fish data-lang=fish><span style=color:#998;font-style:italic>#!/usr/bin/env fish
</span><span style=color:#998;font-style:italic></span>
argparse <span style=color:#b84>&#39;i/input=&#39;</span> -- <span style=color:teal>$argv</span>

<span style=font-weight:700>if</span> <span style=font-weight:700>set</span> -q _flag_input
  <span style=font-weight:700>echo</span> <span style=color:#b84>&#39;input parameter passed:&#39;</span><span style=color:teal>$_flag_input</span>
<span style=font-weight:700>else</span>
  <span style=font-weight:700>echo</span> <span style=color:#b84>&#39;no input parameter passed&#39;</span>
<span style=font-weight:700>end</span>
</code></pre></div><p>Result:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ ./argtest.fish -i foo
input parameter passed:foo
$ ./argtest.fish --input foo
input parameter passed:foo
$ ./argtest.fish --input<span style=font-weight:700>=</span>foo
input parameter passed:foo
$ ./argtest.fish
no input parameter passed
</code></pre></div></article></main><footer id=footer></footer></body></html>