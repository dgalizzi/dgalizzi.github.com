<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="shortcut icon" href="http://example.org/favicon.ico">
    
    <link rel="stylesheet" href="/css/style.min.css">

    <title>First</title>
</head>
<body><header id="banner">
    <h3><a href="http://example.org/">/home/dgalizzi</a></h3>
</header>
<main id="content">
<article>
    <header id="post-header">
        <h1>First</h1>
            <div>
                <time>April 15, 2021</time>
                </div>
    </header><p>Average example implementation on C++:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#999;font-weight:bold">#include</span> <span style="color:#999;font-weight:bold">&lt;omp.h&gt;</span><span style="color:#999;font-weight:bold">
</span><span style="color:#999;font-weight:bold">#include</span> <span style="color:#999;font-weight:bold">&lt;iostream&gt;</span><span style="color:#999;font-weight:bold">
</span><span style="color:#999;font-weight:bold">#include</span> <span style="color:#999;font-weight:bold">&lt;vector&gt;</span><span style="color:#999;font-weight:bold">
</span><span style="color:#999;font-weight:bold">#include</span> <span style="color:#999;font-weight:bold">&lt;numeric&gt;</span><span style="color:#999;font-weight:bold">
</span><span style="color:#999;font-weight:bold"></span><span style="font-weight:bold">using</span> <span style="font-weight:bold">namespace</span> std;
 
<span style="color:#998;font-style:italic">// Non-parallel average function
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">double</span> <span style="color:#900;font-weight:bold">avg</span>(<span style="font-weight:bold">const</span> vector<span style="font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">double</span><span style="font-weight:bold">&gt;</span> <span style="font-weight:bold">&amp;</span>v)
{
	<span style="color:#458;font-weight:bold">double</span> sum <span style="font-weight:bold">=</span> accumulate(v.begin(), v.end(), <span style="color:#099">0.0</span>);
	<span style="font-weight:bold">return</span> sum<span style="font-weight:bold">/</span>v.size();
}
 
<span style="color:#998;font-style:italic">// Parallel average function
</span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">double</span> <span style="color:#900;font-weight:bold">pavg</span>(<span style="font-weight:bold">const</span> vector<span style="font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">double</span><span style="font-weight:bold">&gt;</span> <span style="font-weight:bold">&amp;</span>v)
{
	<span style="color:#998;font-style:italic">// to do
</span><span style="color:#998;font-style:italic"></span>}
 
<span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
{
	vector<span style="font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">double</span><span style="font-weight:bold">&gt;</span> v(<span style="color:#099">1000000</span>);
	<span style="font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="font-weight:bold">=</span> <span style="color:#099">0</span> ; i <span style="font-weight:bold">&lt;</span> v.size() ; i <span style="font-weight:bold">++</span>)
		v[i] <span style="font-weight:bold">=</span> <span style="color:#099">2</span><span style="font-weight:bold">*</span>i;
 
	cout <span style="font-weight:bold">&lt;&lt;</span> <span style="color:#b84">&#34;Average: &#34;</span> <span style="font-weight:bold">&lt;&lt;</span> avg(v) <span style="font-weight:bold">&lt;&lt;</span> endl;
	cout <span style="font-weight:bold">&lt;&lt;</span> <span style="color:#b84">&#34;Parallel average: &#34;</span> <span style="font-weight:bold">&lt;&lt;</span> pavg(v) <span style="font-weight:bold">&lt;&lt;</span> endl;
 
	<span style="font-weight:bold">return</span> <span style="color:#099">0</span>;
}
</code></pre></div></article>

        </main><footer id="footer">
    
</footer>
</body>
</html>
